<%= form_with(model: job, local: true) do |form| %>
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-8">
      <div class="shadow-sm p-3 mb-3 bg-light">
        <%= render 'errors', job: @job %>
        <div class="form-group">
          <%= form.text_field :title, class: 'form-control', placeholder:'Job title', required: :required %>
        </div>

        <div class="form-group">
          <%= form.text_area :description, class: 'form-control', placeholder:'Description' , required: :required %>
        </div>

        <div class="form-row">
          <div class="form-group col-md-4">
            <%= form.select :city, ['Johannesburg', 'Pretoria', 'Cape Town','Durban','Port Elizabeth','Bloemfontein','Nelspruit','Kimberley','Polokwane','Pietermaritzburg'] ,{prompt: "Select City"}, {class: "form-control text-light bg-success"}%>
          </div>
          <div class="form-group col-md-4">
            <%= form.select :work_type, ['Full Time', 'Part Time'] ,{prompt: "Select work type"}, {class: "form-control text-light bg-success"}  %>
          </div>
          <div class="form-group col-md-4">
            <%= form.select :contract_type, ['Freelance', 'Internship', 'Permanent','Temp with possibility of going permanent','Temporary'] ,{prompt: "Select Contract type "}, {class: "form-control text-light bg-success"}  %>
          </div>
        </div>

        <div class="form-group">
          <label for="salary">What is the salary for this job?</label>
            <div class="alert alert-info" role="alert">
              Posting a salary may increase your chances of receiving quality candidates.
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <label class="input-group-text" for="inputGroupSelect01">R</label>
                  </div>
                  <%= form.text_field :salary, class: 'form-control', placeholder:'Example: 5,000.00',  required: :required %>
                </div>
              </div>
              <div class="form-group col-md-6">
                <%= form.select  :salary_type, ['Per Hour','Per Day','Per Week','Per Month','Per Year','Negotiable'] ,{prompt: "Select..."}, class:"form-control" , required: :required %>
              </div>
            </div>
        </div>

        <div class="form-group">
          <div class="alert alert-info" role="alert">
            Outline the responsibilities of the job
          </div>
          <%= form.text_area :duties, id: :jobs_duties, class:'form-control fr-view', placeholder:"Duties" %>
        </div>

        <div class="form-group">
          <div class="alert alert-info" role="alert">
            Outline the requirements of the job, desired work experience, education and skills
          </div>
          <%= form.text_area :requirements, id: :jobs_requirements, class:'form-control', placeholder:"Requirements" %>
        </div>

        <div class="form-group">
          <% if job.persisted? %>
            <div class="float-right">
              <%= link_to 'Destroy', job, method: :delete, class: "text-danger", data: { confirm: 'Are you sure?' } %>
            </div>
          <% end %>

          <%= form.button(type: "submit", class: "btn btn-success" , data: {disable_with:"<i class='fa fa-spinner fa-spin'></i> Saving..." .html_safe }) do %>
             <i class="fas fa-save"></i> SAVE
          <% end %>
          <% if job.persisted? %>
            <%= link_to "Cancel", job, class: "btn btn-link" %>
          <% else %>
            <%= link_to "Cancel", jobs_path, class: "btn btn-link" %>
          <% end %>
        </div>
      </div>
    </div>
  </div> <!--row end !-->
  </div><!--container end !-->
<% end %>

<!--<script>
  var simplemde = new SimpleMDE({ element: $("#jobs_requirements")[0] });
  var simplemde = new SimpleMDE({ element: $("#jobs_duties")[0] });
</script>-->

<script>
     // Replace the <textarea id="editor1"> with a CKEditor
     // instance, using default configuration.
     CKEDITOR.replace( 'jobs_duties' );
     CKEDITOR.replace( 'jobs_requirements' );
</script>
